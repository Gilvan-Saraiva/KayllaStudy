<div class="container">
  <h2>Postar Material</h2>
  <form (ngSubmit)="onSubmit()" #materialForm="ngForm">
    <div class="form-group">
      <label for="titulo">Título</label>
      <input
        type="text"
        id="titulo"
        class="form-control"
        [(ngModel)]="material.titulo"
        name="title"
        required
      />
    </div>

    <div class="form-group">
      <label for="descricao">Descrição</label>
      <textarea
        id="descricao"
        class="form-control"
        [(ngModel)]="material.descricao"
        name="description"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="youtubeURL">Links do YouTube</label>
      <input
        type="text"
        id="youtubeURL"
        class="form-control"
        [(ngModel)]="material.youtubeURL"
        name="youtubeURL"
      />
      <small>Separe os links com vírgula</small>
    </div>

    <div class="form-group">
      <label for="pdfFiles">Upload de PDFs</label>
      <input
        type="file"
        id="pdfFiles"
        class="form-control"
        (change)="onFileChange($event)"
        multiple
      />
    </div>

    <!-- Lista de Alunos (para associar material) -->
    <div class="form-group">
      <label for="alunos">Selecione os Alunos</label>
      <select
        id="alunos"
        class="form-control"
        [(ngModel)]="selectedAlunos"
        name="alunos"
        multiple
      >
        <option *ngFor="let aluno of alunos" [value]="aluno._id">
          {{ aluno.nome || aluno.name || aluno.email }}
        </option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!materialForm.form.valid">
      Postar
    </button>
  </form>
</div>

<!-- Lista de Usuários (para transformar em aluno) -->
<div class="form-group">
  <label for="usuarioSelect">Selecionar Usuário para Aluno</label>
  <select id="usuarioSelect" [(ngModel)]="selectedAlunos" class="form-control" multiple>
    <option *ngFor="let user of usuarios" [value]="user.email">
      {{ user.name }} ({{ user.email }})
    </option>
  </select>

  <button (click)="updateUserRole(selectedAlunos[0])">Atualizar</button>

</div>
